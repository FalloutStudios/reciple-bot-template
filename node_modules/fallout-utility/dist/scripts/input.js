"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.input = void 0;
/**
 *
 * Prompts the user for input
 */
function input(prompt = '') {
    if (typeof prompt === 'string') {
        prompt = { text: prompt };
    }
    const Prompt = require('prompt-sync')({
        sigint: prompt.sigint || true,
        eof: prompt.eot || true,
    });
    const text = (prompt === null || prompt === void 0 ? void 0 : prompt.text) || '';
    const echo = (prompt === null || prompt === void 0 ? void 0 : prompt.echo) || null;
    const repeatIfEmpty = (prompt === null || prompt === void 0 ? void 0 : prompt.repeatIfEmpty) || (prompt === null || prompt === void 0 ? void 0 : prompt.repeat) || false;
    const exitStrings = (prompt === null || prompt === void 0 ? void 0 : prompt.exitStrings) || [];
    let response = undefined;
    while (true) {
        response = Prompt(text, (echo === null ? null : { echo: echo }));
        if (response || !response && !repeatIfEmpty || exitStrings && exitStrings.includes(response))
            break;
    }
    return exitStrings.includes(response) ? null : response;
}
exports.input = input;
