"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.splitString = void 0;
const escapeRegExp_1 = require("./escapeRegExp");
const trimChar_1 = require("./trimChar");
/**
 * Split a string into an array of strings
 * @param str String to split
 * @param removeQuotations Whether to trim quotation marks from the string if they exist
 * @param separator Split separator
 */
function splitString(str, removeQuotations = false, separator = ' ') {
    let regex = new RegExp(`(?<=^[^\"]*(?:\"[^\"]*\"[^\"]*)*)${separator}(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)`);
    const text = (0, escapeRegExp_1.escapeRegExp)(str.toString().trim());
    const matches = text.split(regex);
    let newText = [];
    for (let word of matches) {
        word = word.replace(/(?:\\(.))/, '$1');
        word = removeQuotations && word.startsWith('"') && word.endsWith('"') ? (0, trimChar_1.trimChars)(word, '"') : word;
        newText.push(word);
    }
    return newText;
}
exports.splitString = splitString;
