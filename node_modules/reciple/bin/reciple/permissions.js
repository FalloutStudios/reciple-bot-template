"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.botHasExecutePermissions = exports.userHasCommandPermissions = void 0;
/**
 * Check if the user has permissions to execute the given command name
 */
function userHasCommandPermissions(commandName, memberPermissions, configConmmandPermissions, builder) {
    var _a, _b;
    if (!(configConmmandPermissions === null || configConmmandPermissions === void 0 ? void 0 : configConmmandPermissions.enabled))
        return true;
    const command = (_a = configConmmandPermissions.commands.find(c => c.command.toLowerCase() === commandName.toLowerCase())) !== null && _a !== void 0 ? _a : { permissions: (_b = builder === null || builder === void 0 ? void 0 : builder.RequiredUserPermissions) !== null && _b !== void 0 ? _b : [] };
    if (!command.permissions.length)
        return true;
    return memberPermissions ? memberPermissions.has(command.permissions) : false;
}
exports.userHasCommandPermissions = userHasCommandPermissions;
function botHasExecutePermissions(guild, requiredPermissions) {
    var _a;
    if (!(requiredPermissions === null || requiredPermissions === void 0 ? void 0 : requiredPermissions.length))
        return true;
    return (guild === null || guild === void 0 ? void 0 : guild.me) ? (_a = guild.me) === null || _a === void 0 ? void 0 : _a.permissions.has(requiredPermissions) : false;
}
exports.botHasExecutePermissions = botHasExecutePermissions;
